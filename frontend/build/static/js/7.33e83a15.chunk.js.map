{"version":3,"sources":["shared/components/UIElements/Card.js","shared/components/UIElements/Map.js","places/components/PlaceItem.js","places/components/PlaceList.js","places/pages/UserPlaces.js"],"names":["Card","props","className","style","children","Map","mapRef","useRef","center","zoom","useEffect","map","window","google","maps","current","Marker","position","ref","sytle","PlaceItem","useHttpClient","isLoading","error","sendRequest","clearError","auth","useContext","AuthContext","useState","showMap","setShowMap","showConfirmModal","setShowConfirmModal","closeMapHandler","cancelDeleteHandler","confirmDeleteHandler","a","process","id","Authorization","token","onDelete","Fragment","ErrorModal","onClear","Modal","show","onCancle","header","address","contentClass","footerClass","footer","Button","onClick","coordinates","onCancel","inverse","danger","LoadingSpinner","asOverlay","src","image","alt","title","description","userId","creatorId","to","PlaceList","items","length","place","creator","location","onDeletePlace","UserPlaces","loadedPlaces","setLoadedPlaces","useParams","responseData","places","fetchPlaces","deletedPlaceId","prevPlaces","filter"],"mappings":"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","file":"static/js/7.33e83a15.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Card.css';\r\n\r\nconst Card = (props) => {\r\n\treturn (\r\n\t\t<div className={`card ${props.className}`} style={props.style}>\r\n\t\t\t{props.children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Card;\r\n","import React, { useRef, useEffect } from 'react';\r\n\r\nimport './Map.css';\r\n\r\nconst Map = (props) => {\r\n\tconst mapRef = useRef();\r\n\tconst { center, zoom } = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst map = new window.google.maps.Map(mapRef.current, {\r\n\t\t\tcenter: center,\r\n\t\t\tzoom: zoom,\r\n\t\t});\r\n\t\tnew window.google.maps.Marker({ position: center, map: map });\r\n\t}, [center, zoom]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={mapRef}\r\n\t\t\tclassName={`map ${props.className}`}\r\n\t\t\tsytle={props.style}\r\n\t\t></div>\r\n\t);\r\n};\r\n\r\nexport default Map;\r\n\r\n/* \r\n// to render map for free.\r\n\r\n// paste this in index.html\r\n\r\n// <link\r\n// \trel=\"stylesheet\"\r\n// \thref=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/css/ol.css\"\r\n// \ttype=\"text/css\"\r\n// />\r\n// <script src=\"https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/build/ol.js\"></script>\r\n\r\n\r\nconst Map = (props) => {\r\n\tconst mapRef = useRef();\r\n\r\n\tconst { center, zoom } = props;\r\n\r\n\tuseEffect(() => {\r\n\t\tnew window.ol.Map({\r\n\t\t\ttarget: mapRef.current.id,\r\n\t\t\tlayers: [\r\n\t\t\t\tnew window.ol.layer.Tile({\r\n\t\t\t\t\tsource: new window.ol.source.OSM(),\r\n\t\t\t\t}),\r\n\t\t\t],\r\n\t\t\tview: new window.ol.View({\r\n\t\t\t\tcenter: window.ol.proj.fromLonLat([center.lng, center.lat]),\r\n\t\t\t\tzoom: zoom,\r\n\t\t\t}),\r\n\t\t});\r\n\t}, [center, zoom]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={mapRef}\r\n\t\t\tclassName={`map ${props.className}`}\r\n\t\t\tstyle={props.style}\r\n\t\t\tid=\"map\"\r\n\t\t></div>\r\n\t);\r\n};\r\n\r\nexport default Map;\r\n*/\r\n","import React, { useContext, useState } from 'react';\r\n\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport Map from '../../shared/components/UIElements/Map';\r\nimport Modal from '../../shared/components/UIElements/Modal';\r\nimport { AuthContext } from '../../shared/context/auth-context';\r\nimport './PlaceItem.css';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\n\r\nconst PlaceItem = (props) => {\r\n\tconst { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\tconst auth = useContext(AuthContext);\r\n\tconst [showMap, setShowMap] = useState(false);\r\n\tconst [showConfirmModal, setShowConfirmModal] = useState(false);\r\n\r\n\tconst openMapHandler = () => setShowMap(true);\r\n\tconst closeMapHandler = () => setShowMap(false);\r\n\tconst showDeleteWarningHandler = () => {\r\n\t\tsetShowConfirmModal(true);\r\n\t};\r\n\tconst cancelDeleteHandler = () => {\r\n\t\tsetShowConfirmModal(false);\r\n\t};\r\n\tconst confirmDeleteHandler = async () => {\r\n\t\tsetShowConfirmModal(false);\r\n\t\ttry {\r\n\t\t\tawait sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/places/${props.id}`,\r\n\t\t\t\t'DELETE',\r\n\t\t\t\tnull,\r\n\t\t\t\t{ Authorization: 'Bearer ' + auth.token }\r\n\t\t\t);\r\n\t\t\tprops.onDelete(props.id);\r\n\t\t} catch (err) {}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ErrorModal error={error} onClear={clearError} />\r\n\r\n\t\t\t<Modal\r\n\t\t\t\tshow={showMap}\r\n\t\t\t\tonCancle={closeMapHandler}\r\n\t\t\t\theader={props.address}\r\n\t\t\t\tcontentClass=\"place-item__modal-content\"\r\n\t\t\t\tfooterClass=\"place-item__modal-actions\"\r\n\t\t\t\tfooter={<Button onClick={closeMapHandler}>CLOSE</Button>}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"map-container\">\r\n\t\t\t\t\t<Map center={props.coordinates} zoom={16} />\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tshow={showConfirmModal}\r\n\t\t\t\tonCancel={cancelDeleteHandler}\r\n\t\t\t\theader=\"Are you sure?\"\r\n\t\t\t\tfooterClass=\"place-item__modal-actions\"\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Button inverse onClick={cancelDeleteHandler}>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button danger onClick={confirmDeleteHandler}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tDo you want to proceed and delete this place? <br />\r\n\t\t\t\t\tPlease note that it cannot be undone.\r\n\t\t\t\t</p>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<li className=\"place-item\">\r\n\t\t\t\t<Card className=\"place-item__content\">\r\n\t\t\t\t\t{isLoading && <LoadingSpinner asOverlay />}\r\n\t\t\t\t\t<div className=\"place-item__image\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={`${process.env.REACT_APP_ASSET_URL}/${props.image}`}\r\n\t\t\t\t\t\t\talt={props.title}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"place-item__info\">\r\n\t\t\t\t\t\t<h2>{props.title}</h2>\r\n\t\t\t\t\t\t<h3>{props.address}</h3>\r\n\t\t\t\t\t\t<p>{props.description}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"place-item__actions\">\r\n\t\t\t\t\t\t<Button inverse onClick={openMapHandler}>\r\n\t\t\t\t\t\t\tView on Map\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{auth.userId === props.creatorId && (\r\n\t\t\t\t\t\t\t<Button to={`/places/${props.id}`}>Edit</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{auth.userId === props.creatorId && (\r\n\t\t\t\t\t\t\t<Button danger onClick={showDeleteWarningHandler}>\r\n\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</li>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default PlaceItem;\r\n","import React from 'react';\r\nimport Button from '../../shared/components/FormElements/Button';\r\nimport Card from '../../shared/components/UIElements/Card';\r\nimport PlaceItem from './PlaceItem';\r\n\r\nimport './PlaceList.css';\r\n\r\nconst PlaceList = (props) => {\r\n\tif (props.items.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"place-list center\">\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<h2>No place found. Maybe create one?</h2>\r\n\t\t\t\t\t<Button to=\"/places/new\">share place</Button>\r\n\t\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<ul className=\"place-list\">\r\n\t\t\t{props.items.map((place) => (\r\n\t\t\t\t<PlaceItem\r\n\t\t\t\t\tkey={place.id}\r\n\t\t\t\t\tid={place.id}\r\n\t\t\t\t\timage={place.image}\r\n\t\t\t\t\ttitle={place.title}\r\n\t\t\t\t\tdescription={place.description}\r\n\t\t\t\t\taddress={place.address}\r\n\t\t\t\t\tcreatorId={place.creator}\r\n\t\t\t\t\tcoordinates={place.location}\r\n\t\t\t\t\tonDelete={props.onDeletePlace}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n};\r\n\r\nexport default PlaceList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport PlaceList from '../components/PlaceList';\r\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\r\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\r\nimport { useHttpClient } from '../../shared/hooks/http-hook';\r\n\r\nconst UserPlaces = () => {\r\n\tconst [loadedPlaces, setLoadedPlaces] = useState();\r\n\tconst { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\tconst userId = useParams().userId;\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchPlaces = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/places/user/${userId}`\r\n\t\t\t\t);\r\n\t\t\t\tsetLoadedPlaces(responseData.places);\r\n\t\t\t} catch (err) {}\r\n\t\t};\r\n\t\tfetchPlaces();\r\n\t}, [sendRequest, userId]);\r\n\r\n\tconst placeDeletedHandler = (deletedPlaceId) => {\r\n\t\tsetLoadedPlaces((prevPlaces) => {\r\n\t\t\tprevPlaces.filter((place) => place.id !== deletedPlaceId);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<ErrorModal error={error} onClear={clearError} />\r\n\t\t\t{isLoading && (\r\n\t\t\t\t<div className=\"center\">\r\n\t\t\t\t\t<LoadingSpinner />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!isLoading && loadedPlaces && (\r\n\t\t\t\t<PlaceList\r\n\t\t\t\t\titems={loadedPlaces}\r\n\t\t\t\t\tonDeletePlace={placeDeletedHandler}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default UserPlaces;\r\n"],"sourceRoot":""}